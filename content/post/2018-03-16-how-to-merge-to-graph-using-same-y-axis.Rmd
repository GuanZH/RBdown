---
title: How to merge to graph using same y axis
author: Geebbon
date: '2018-03-16'
slug: how-to-merge-to-graph-using-same-y-axis
categories:
  - plot
tags:
  - R
  - ggplot
summary:
  "Use gridExtra is easy to make combined graph"
---


In case of that I want to plot several graphs, and the datasets are same and variables are same. How to make it in a compact way, such as I want them share the same y-axis and distinct x-axis, or verse visa. Or I treat X variables in different ways, log and 1/x.

I use code from stackexchange.com
```{r echo=TRUE, message=FALSE, warning=FALSE, paged.print=FALSE}

library("PtProcess")
lambda <- 1.5
a <- 1
pareto <- rpareto(1000,lambda=lambda,a=a)
x_pareto <- seq(from=min(pareto),to=max(pareto),length=1000)
y_pareto <- 1-ppareto(x_pareto,lambda,a)
df1 <- data.frame(x=x_pareto,cdf=y_pareto)

library(ggplot2)
library(gridExtra)
g1 <- ggplot(df1,aes(x=x,y=cdf)) + geom_line() + scale_x_log10()+ ylim(0,1.2)+  theme(plot.margin = unit(c(0,-.5,0,.5), "lines"),
            plot.background = element_blank()) +
      ggtitle("pareto")


mean <- 3
norm <- rnorm(1000,mean=mean)
x_norm <- seq(from=min(norm),to=max(norm),length=1000)
y_norm <- pnorm(x_norm,mean=mean)
df2 <- data.frame(x=x_norm,cdf=y_norm)

g2 <- ggplot(df2,aes(x=x,y=cdf)) + geom_line()+ ylim(0,1.2)+
  theme(axis.text.y = element_blank(), 
            axis.ticks.y = element_blank(), 
            axis.title.y = element_blank(),
            plot.margin = unit(c(0,1,0,-1), "lines"),
            plot.background = element_blank()) +
      ggtitle("norm")
grid.arrange(g1, g2, ncol=2)  

```

next is the graph using ggplotGrob

```{r echo=TRUE, message=FALSE, warning=FALSE, paged.print=FALSE}
G1 <- ggplotGrob(g1)
G2 <- ggplotGrob(g2)

grid.arrange(G1, G2, ncol=2)

```

Not exactly, but step forward. Finally, I use `grid` method.

```{r echo=TRUE, message=FALSE, warning=FALSE, paged.print=FALSE}

library(grid)
grid.newpage()
grid.draw(cbind(ggplotGrob(g1), ggplotGrob(g2),size = "last"))
# library(gridExtra)
# g <- arrangeGrob(g1, g2,nrow=1) 
# plot(g)

```

A great work!
