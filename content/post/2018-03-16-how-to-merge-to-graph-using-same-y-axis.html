---
title: How to merge to graph using same y axis
author: Geebbon
date: '2018-03-16'
slug: how-to-merge-to-graph-using-same-y-axis
categories:
  - plot
tags:
  - R
  - ggplot
summary:
  "Use gridExtra is easy to make combined graph"
---



<p>In case of that I want to plot several graphs, and the datasets are same and variables are same. How to make it in a compact way, such as I want them share the same y-axis and distinct x-axis, or verse visa. Or I treat X variables in different ways, log and 1/x.</p>
<p>I use code from stackexchange.com</p>
<pre class="r"><code>library(&quot;PtProcess&quot;)
lambda &lt;- 1.5
a &lt;- 1
pareto &lt;- rpareto(1000,lambda=lambda,a=a)
x_pareto &lt;- seq(from=min(pareto),to=max(pareto),length=1000)
y_pareto &lt;- 1-ppareto(x_pareto,lambda,a)
df1 &lt;- data.frame(x=x_pareto,cdf=y_pareto)

library(ggplot2)
library(gridExtra)
g1 &lt;- ggplot(df1,aes(x=x,y=cdf)) + geom_line() + scale_x_log10()+ ylim(0,1.2)+  theme(plot.margin = unit(c(0,-.5,0,.5), &quot;lines&quot;),
            plot.background = element_blank()) +
      ggtitle(&quot;pareto&quot;)


mean &lt;- 3
norm &lt;- rnorm(1000,mean=mean)
x_norm &lt;- seq(from=min(norm),to=max(norm),length=1000)
y_norm &lt;- pnorm(x_norm,mean=mean)
df2 &lt;- data.frame(x=x_norm,cdf=y_norm)

g2 &lt;- ggplot(df2,aes(x=x,y=cdf)) + geom_line()+ ylim(0,1.2)+
  theme(axis.text.y = element_blank(), 
            axis.ticks.y = element_blank(), 
            axis.title.y = element_blank(),
            plot.margin = unit(c(0,1,0,-1), &quot;lines&quot;),
            plot.background = element_blank()) +
      ggtitle(&quot;norm&quot;)
grid.arrange(g1, g2, ncol=2)  </code></pre>
<p><img src="/post/2018-03-16-how-to-merge-to-graph-using-same-y-axis_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>next is the graph using ggplotGrob</p>
<pre class="r"><code>G1 &lt;- ggplotGrob(g1)
G2 &lt;- ggplotGrob(g2)

grid.arrange(G1, G2, ncol=2)</code></pre>
<p><img src="/post/2018-03-16-how-to-merge-to-graph-using-same-y-axis_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Not exactly, but step forward. Finally, I use <code>grid</code> method.</p>
<pre class="r"><code>library(grid)
grid.newpage()
grid.draw(cbind(ggplotGrob(g1), ggplotGrob(g2),size = &quot;last&quot;))</code></pre>
<p><img src="/post/2018-03-16-how-to-merge-to-graph-using-same-y-axis_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code># library(gridExtra)
# g &lt;- arrangeGrob(g1, g2,nrow=1) 
# plot(g)</code></pre>
<p>A great work!</p>
